var K=Object.defineProperty;var W=(e,r,s)=>r in e?K(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s;var O=(e,r,s)=>(W(e,typeof r!="symbol"?r+"":r,s),s);let x={};if(localStorage.hasOwnProperty("StackColorsCache"))try{x=JSON.parse(localStorage.getItem("StackColorsCache"))}catch{x={}}async function J(e,r,s){if(!e)return await Vibrant.from(s).getPalette();if(!x.hasOwnProperty(e)||x[e].hash!==r){const i=await Vibrant.from(s).getPalette();x[e]={hash:r,Vibrant:{hex:i.Vibrant.hex,rgb:i.Vibrant.rgb,bodyTextColor:i.Vibrant.bodyTextColor},DarkMuted:{hex:i.DarkMuted.hex,rgb:i.DarkMuted.rgb,bodyTextColor:i.DarkMuted.bodyTextColor}},localStorage.setItem("StackColorsCache",JSON.stringify(x))}return x[e]}let Q=(e,r=500)=>{e.classList.add("transiting"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=r+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height="0",e.style.paddingTop="0",e.style.paddingBottom="0",e.style.marginTop="0",e.style.marginBottom="0",window.setTimeout(()=>{e.classList.remove("show"),e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("transiting")},r)},Y=(e,r=500)=>{e.classList.add("transiting"),e.style.removeProperty("display"),e.classList.add("show");let s=e.offsetHeight;e.style.overflow="hidden",e.style.height="0",e.style.paddingTop="0",e.style.paddingBottom="0",e.style.marginTop="0",e.style.marginBottom="0",e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=r+"ms",e.style.height=s+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("transiting")},r)},G=(e,r=500)=>window.getComputedStyle(e).display==="none"?Y(e,r):Q(e,r);function X(){const e=document.getElementById("toggle-menu");e&&e.addEventListener("click",()=>{document.getElementById("main-menu").classList.contains("transiting")||(document.body.classList.toggle("show-menu"),G(document.getElementById("main-menu"),300),e.classList.toggle("is-active"))})}function Z(e,r,s){var i=document.createElement(e);for(let t in r)if(t&&r.hasOwnProperty(t)){let o=r[t];t=="dangerouslySetInnerHTML"?i.innerHTML=o.__html:o===!0?i.setAttribute(t,t):o!==!1&&o!=null&&i.setAttribute(t,o.toString())}for(let t=2;t<arguments.length;t++){let o=arguments[t];o&&i.appendChild(o.nodeType==null?document.createTextNode(o.toString()):o)}return i}class ee{constructor(r){O(this,"localStorageKey","StackColorScheme");O(this,"currentScheme");O(this,"systemPreferScheme");this.bindMatchMedia(),this.currentScheme=this.getSavedScheme(),this.dispatchEvent(document.documentElement.dataset.scheme),r&&this.bindClick(r),document.body.style.transition==""&&document.body.style.setProperty("transition","background-color .3s ease")}saveScheme(){localStorage.setItem(this.localStorageKey,this.currentScheme)}bindClick(r){r.addEventListener("click",()=>{this.isDark()?this.currentScheme="light":this.currentScheme="dark",this.setBodyClass(),this.currentScheme==this.systemPreferScheme&&(this.currentScheme="auto"),this.saveScheme()})}isDark(){return this.currentScheme=="dark"||this.currentScheme=="auto"&&this.systemPreferScheme=="dark"}dispatchEvent(r){const s=new CustomEvent("onColorSchemeChange",{detail:r});window.dispatchEvent(s)}setBodyClass(){this.isDark()?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light",this.dispatchEvent(document.documentElement.dataset.scheme)}getSavedScheme(){const r=localStorage.getItem(this.localStorageKey);return r=="light"||r=="dark"||r=="auto"?r:"auto"}bindMatchMedia(){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",r=>{r.matches?this.systemPreferScheme="dark":this.systemPreferScheme="light",this.setBodyClass()})}}const te="a[href]";function re(){document.querySelectorAll(te).forEach(e=>{e.getAttribute("href").startsWith("#")&&e.addEventListener("click",s=>{s.preventDefault();const i=decodeURI(e.getAttribute("href").substring(1)),t=document.getElementById(i),o=t.getBoundingClientRect().top-document.documentElement.getBoundingClientRect().top;window.history.pushState({},"",e.getAttribute("href")),scrollTo({top:o,behavior:"smooth"})})})}var P=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V={exports:{}},N,B;function ne(){return B||(B=1,N={tocSelector:".js-toc",contentSelector:".js-toc-content",headingSelector:"h1, h2, h3",ignoreSelector:".js-toc-ignore",hasInnerContainers:!1,linkClass:"toc-link",extraLinkClasses:"",activeLinkClass:"is-active-link",listClass:"toc-list",extraListClasses:"",isCollapsedClass:"is-collapsed",collapsibleClass:"is-collapsible",listItemClass:"toc-list-item",activeListItemClass:"is-active-li",collapseDepth:0,scrollSmooth:!0,scrollSmoothDuration:420,scrollSmoothOffset:0,scrollEndCallback:function(e){},headingsOffset:1,throttleTimeout:50,positionFixedSelector:null,positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto",includeHtml:!1,includeTitleTags:!1,onClick:function(e){},orderedList:!0,scrollContainer:null,skipRendering:!1,headingLabelCallback:!1,ignoreHiddenElements:!1,headingObjectCallback:null,basePath:"",disableTocScrollSync:!1,tocScrollOffset:0}),N}var A,M;function le(){return M||(M=1,A=function(e){var r=[].forEach,s=[].some,i=document.body,t,o=!0,c=" ";function m(n,a){var f=a.appendChild(v(n));if(n.children.length){var g=l(n.isCollapsed);n.children.forEach(function(k){m(k,g)}),f.appendChild(g)}}function y(n,a){var f=!1,g=l(f);if(a.forEach(function(k){m(k,g)}),t=n||t,t!==null)return t.firstChild&&t.removeChild(t.firstChild),a.length===0?t:t.appendChild(g)}function v(n){var a=document.createElement("li"),f=document.createElement("a");return e.listItemClass&&a.setAttribute("class",e.listItemClass),e.onClick&&(f.onclick=e.onClick),e.includeTitleTags&&f.setAttribute("title",n.textContent),e.includeHtml&&n.childNodes.length?r.call(n.childNodes,function(g){f.appendChild(g.cloneNode(!0))}):f.textContent=n.textContent,f.setAttribute("href",e.basePath+"#"+n.id),f.setAttribute("class",e.linkClass+c+"node-name--"+n.nodeName+c+e.extraLinkClasses),a.appendChild(f),a}function l(n){var a=e.orderedList?"ol":"ul",f=document.createElement(a),g=e.listClass+c+e.extraListClasses;return n&&(g=g+c+e.collapsibleClass,g=g+c+e.isCollapsedClass),f.setAttribute("class",g),f}function u(){if(e.scrollContainer&&document.querySelector(e.scrollContainer)){var n;n=document.querySelector(e.scrollContainer).scrollTop}else n=document.documentElement.scrollTop||i.scrollTop;var a=document.querySelector(e.positionFixedSelector);e.fixedSidebarOffset==="auto"&&(e.fixedSidebarOffset=t.offsetTop),n>e.fixedSidebarOffset?a.className.indexOf(e.positionFixedClass)===-1&&(a.className+=c+e.positionFixedClass):a.className=a.className.replace(c+e.positionFixedClass,"")}function d(n){var a=0;return n!==null&&(a=n.offsetTop,e.hasInnerContainers&&(a+=d(n.offsetParent))),a}function p(n,a){return n&&n.className!==a&&(n.className=a),n}function h(n){if(e.scrollContainer&&document.querySelector(e.scrollContainer)){var a;a=document.querySelector(e.scrollContainer).scrollTop}else a=document.documentElement.scrollTop||i.scrollTop;e.positionFixedSelector&&u();var f=n,g;if(o&&t!==null&&f.length>0){s.call(f,function(w,q){if(d(w)>a+e.headingsOffset+10){var z=q===0?q:q-1;return g=f[z],!0}else if(q===f.length-1)return g=f[f.length-1],!0});var k=t.querySelector("."+e.activeLinkClass),S=t.querySelector("."+e.linkClass+".node-name--"+g.nodeName+'[href="'+e.basePath+"#"+g.id.replace(/([ #;&,.+*~':"!^$[\]()=>|/\\@])/g,"\\$1")+'"]');if(k===S)return;var E=t.querySelectorAll("."+e.linkClass);r.call(E,function(w){p(w,w.className.replace(c+e.activeLinkClass,""))});var T=t.querySelectorAll("."+e.listItemClass);r.call(T,function(w){p(w,w.className.replace(c+e.activeListItemClass,""))}),S&&S.className.indexOf(e.activeLinkClass)===-1&&(S.className+=c+e.activeLinkClass);var H=S&&S.parentNode;H&&H.className.indexOf(e.activeListItemClass)===-1&&(H.className+=c+e.activeListItemClass);var U=t.querySelectorAll("."+e.listClass+"."+e.collapsibleClass);r.call(U,function(w){w.className.indexOf(e.isCollapsedClass)===-1&&(w.className+=c+e.isCollapsedClass)}),S&&S.nextSibling&&S.nextSibling.className.indexOf(e.isCollapsedClass)!==-1&&p(S.nextSibling,S.nextSibling.className.replace(c+e.isCollapsedClass,"")),C(S&&S.parentNode.parentNode)}}function C(n){return n&&n.className.indexOf(e.collapsibleClass)!==-1&&n.className.indexOf(e.isCollapsedClass)!==-1?(p(n,n.className.replace(c+e.isCollapsedClass,"")),C(n.parentNode.parentNode)):n}function L(n){var a=n.target||n.srcElement;typeof a.className!="string"||a.className.indexOf(e.linkClass)===-1||(o=!1)}function b(){o=!0}return{enableTocAnimation:b,disableTocAnimation:L,render:y,updateToc:h}}),A}var I,R;function se(){return R||(R=1,I=function(r){var s=[].reduce;function i(l){return l[l.length-1]}function t(l){return+l.nodeName.toUpperCase().replace("H","")}function o(l){try{return l instanceof window.HTMLElement||l instanceof window.parent.HTMLElement}catch{return l instanceof window.HTMLElement}}function c(l){if(!o(l))return l;if(r.ignoreHiddenElements&&(!l.offsetHeight||!l.offsetParent))return null;const u=l.getAttribute("data-heading-label")||(r.headingLabelCallback?String(r.headingLabelCallback(l.innerText)):(l.innerText||l.textContent).trim());var d={id:l.id,children:[],nodeName:l.nodeName,headingLevel:t(l),textContent:u};return r.includeHtml&&(d.childNodes=l.childNodes),r.headingObjectCallback?r.headingObjectCallback(d,l):d}function m(l,u){for(var d=c(l),p=d.headingLevel,h=u,C=i(h),L=C?C.headingLevel:0,b=p-L;b>0&&(C=i(h),!(C&&p===C.headingLevel));)C&&C.children!==void 0&&(h=C.children),b--;return p>=r.collapseDepth&&(d.isCollapsed=!0),h.push(d),h}function y(l,u){var d=u;r.ignoreSelector&&(d=u.split(",").map(function(h){return h.trim()+":not("+r.ignoreSelector+")"}));try{return l.querySelectorAll(d)}catch{return console.warn("Headers not found with selector: "+d),null}}function v(l){return s.call(l,function(d,p){var h=c(p);return h&&m(h,d.nest),d},{nest:[]})}return{nestHeadingsArray:v,selectHeadings:y}}),I}var D,j;function ie(){if(j)return D;j=1;const e=30;return D=function(s){var i=s.tocElement||document.querySelector(s.tocSelector);if(i&&i.scrollHeight>i.clientHeight){var t=i.querySelector("."+s.activeListItemClass);if(t){var o=i.scrollTop,c=o+i.clientHeight,m=t.offsetTop,y=m+t.clientHeight;m<o+s.tocScrollOffset?i.scrollTop-=o-m+s.tocScrollOffset:y>c-s.tocScrollOffset-e&&(i.scrollTop+=y-c+s.tocScrollOffset+2*e)}}},D}var _={},F;function oe(){if(F)return _;F=1,_.initSmoothScrolling=e;function e(s){var i=s.duration,t=s.offset,o=location.hash?y(location.href):location.href;c();function c(){document.body.addEventListener("click",l,!1);function l(u){!m(u.target)||u.target.className.indexOf("no-smooth-scroll")>-1||u.target.href.charAt(u.target.href.length-2)==="#"&&u.target.href.charAt(u.target.href.length-1)==="!"||u.target.className.indexOf(s.linkClass)===-1||r(u.target.hash,{duration:i,offset:t,callback:function(){v(u.target.hash)}})}}function m(l){return l.tagName.toLowerCase()==="a"&&(l.hash.length>0||l.href.charAt(l.href.length-1)==="#")&&(y(l.href)===o||y(l.href)+"#"===o)}function y(l){return l.slice(0,l.lastIndexOf("#"))}function v(l){var u=document.getElementById(l.substring(1));u&&(/^(?:a|select|input|button|textarea)$/i.test(u.tagName)||(u.tabIndex=-1),u.focus())}}function r(s,i){var t=window.pageYOffset,o={duration:i.duration,offset:i.offset||0,callback:i.callback,easing:i.easing||p},c=document.querySelector('[id="'+decodeURI(s).split("#").join("")+'"]')||document.querySelector('[id="'+s.split("#").join("")+'"]'),m=typeof s=="string"?o.offset+(s?c&&c.getBoundingClientRect().top||0:-(document.documentElement.scrollTop||document.body.scrollTop)):s,y=typeof o.duration=="function"?o.duration(m):o.duration,v,l;requestAnimationFrame(function(h){v=h,u(h)});function u(h){l=h-v,window.scrollTo(0,o.easing(l,t,m,y)),l<y?requestAnimationFrame(u):d()}function d(){window.scrollTo(0,t+m),typeof o.callback=="function"&&o.callback()}function p(h,C,L,b){return h/=b/2,h<1?L/2*h*h+C:(h--,-L/2*(h*(h-2)-1)+C)}}return _}(function(e,r){(function(s,i){e.exports=i(s)})(typeof P<"u"?P:window||P,function(s){var i=ne(),t={},o={},c=le(),m=se(),y=ie(),v,l,u=!!s&&!!s.document&&!!s.document.querySelector&&!!s.addEventListener;if(typeof window>"u"&&!u)return;var d,p=Object.prototype.hasOwnProperty;function h(){for(var n={},a=0;a<arguments.length;a++){var f=arguments[a];for(var g in f)p.call(f,g)&&(n[g]=f[g])}return n}function C(n,a,f){a||(a=250);var g,k;return function(){var S=f||this,E=+new Date,T=arguments;g&&E<g+a?(clearTimeout(k),k=setTimeout(function(){g=E,n.apply(S,T)},a)):(g=E,n.apply(S,T))}}function L(n){try{return n.contentElement||document.querySelector(n.contentSelector)}catch{return console.warn("Contents element not found: "+n.contentSelector),null}}function b(n){try{return n.tocElement||document.querySelector(n.tocSelector)}catch{return console.warn("TOC element not found: "+n.tocSelector),null}}return o.destroy=function(){var n=b(t);n!==null&&(t.skipRendering||n&&(n.innerHTML=""),t.scrollContainer&&document.querySelector(t.scrollContainer)?(document.querySelector(t.scrollContainer).removeEventListener("scroll",this._scrollListener,!1),document.querySelector(t.scrollContainer).removeEventListener("resize",this._scrollListener,!1),v&&document.querySelector(t.scrollContainer).removeEventListener("click",this._clickListener,!1)):(document.removeEventListener("scroll",this._scrollListener,!1),document.removeEventListener("resize",this._scrollListener,!1),v&&document.removeEventListener("click",this._clickListener,!1)))},o.init=function(n){if(u){t=h(i,n||{}),this.options=t,this.state={},t.scrollSmooth&&(t.duration=t.scrollSmoothDuration,t.offset=t.scrollSmoothOffset,o.scrollSmooth=oe().initSmoothScrolling(t)),v=c(t),l=m(t),this._buildHtml=v,this._parseContent=l,this._headingsArray=d,o.destroy();var a=L(t);if(a!==null){var f=b(t);if(f!==null&&(d=l.selectHeadings(a,t.headingSelector),d!==null)){var g=l.nestHeadingsArray(d),k=g.nest;if(!t.skipRendering)v.render(f,k);else return this;this._scrollListener=C(function(E){v.updateToc(d),!t.disableTocScrollSync&&y(t);var T=E&&E.target&&E.target.scrollingElement&&E.target.scrollingElement.scrollTop===0;(E&&(E.eventPhase===0||E.currentTarget===null)||T)&&(v.updateToc(d),t.scrollEndCallback&&t.scrollEndCallback(E))},t.throttleTimeout),this._scrollListener(),t.scrollContainer&&document.querySelector(t.scrollContainer)?(document.querySelector(t.scrollContainer).addEventListener("scroll",this._scrollListener,!1),document.querySelector(t.scrollContainer).addEventListener("resize",this._scrollListener,!1)):(document.addEventListener("scroll",this._scrollListener,!1),document.addEventListener("resize",this._scrollListener,!1));var S=null;return this._clickListener=C(function(E){t.scrollSmooth&&v.disableTocAnimation(E),v.updateToc(d),S&&clearTimeout(S),S=setTimeout(function(){v.enableTocAnimation()},t.scrollSmoothDuration)},t.throttleTimeout),t.scrollContainer&&document.querySelector(t.scrollContainer)?document.querySelector(t.scrollContainer).addEventListener("click",this._clickListener,!1):document.addEventListener("click",this._clickListener,!1),this}}}},o.refresh=function(n){o.destroy(),o.init(n||this.options)},s.tocbot=o,o})})(V);var ae=V.exports;/*!
*   Hugo Theme Stack
*
*   @author: Jimmy Cai
*   @website: https://jimmycai.com
*   @link: https://github.com/CaiJimmy/hugo-theme-stack
*/let $={init:()=>{X(),document.querySelector(".article-content")&&re();const r=document.querySelector(".article-list--tile");r&&new IntersectionObserver(async(m,y)=>{m.forEach(v=>{if(!v.isIntersecting)return;y.unobserve(v.target),v.target.querySelectorAll("article.has-image").forEach(async u=>{const d=u.querySelector("img"),p=d.src,h=d.getAttribute("data-key")||"",C=d.getAttribute("data-hash")||"",L=u.querySelector(".article-details"),b=await J(h,C,p);L.style.background=`
                        linear-gradient(0deg, 
                            rgba(${b.DarkMuted.rgb[0]}, ${b.DarkMuted.rgb[1]}, ${b.DarkMuted.rgb[2]}, 0.5) 0%, 
                            rgba(${b.Vibrant.rgb[0]}, ${b.Vibrant.rgb[1]}, ${b.Vibrant.rgb[2]}, 0.75) 100%)`})})}).observe(r),document.querySelectorAll("pre").forEach(c=>{const m=document.createElement("div");m.classList.add("highlight"),c.parentNode.insertBefore(m,c),m.appendChild(c)});const i=document.querySelectorAll(".article-content div.highlight,.item-html .highlight"),t="Copy",o="Copied!";i.forEach(c=>{const m=document.createElement("button");m.innerHTML=t,m.classList.add("copyCodeButton"),c.appendChild(m);const y=c.querySelector('code[class*="language-"]');y&&m.addEventListener("click",()=>{navigator.clipboard.writeText(y.textContent).then(()=>{m.textContent=o,setTimeout(()=>{m.textContent=t},1e3)}).catch(v=>{alert(v),console.log("Something went wrong",v)})})}),new ee(document.getElementById("dark-mode-toggle"))}};window.addEventListener("load",()=>{setTimeout(function(){$.init()},0)});function ce(){const e=document.querySelector(".article-content");if(!e)return;const r=document.querySelector(".right-sidebar");if(!(r!=null&&r.childElementCount)||(r==null?void 0:r.childElementCount)===0)return;const s=e==null?void 0:e.querySelectorAll("h1, h2, h3, h4, h5, h6");if(!s||s.length===0){const i=document.querySelector(".post_toc");i==null||i.remove();const t=document.querySelector(".right-sidebar");(!(t!=null&&t.childElementCount)||(t==null?void 0:t.childElementCount)===0)&&(t==null||t.remove());return}ae.init({tocSelector:"#TableOfContents",contentSelector:".article-content",headingSelector:"h1, h2, h3, h4, h5, h6",activeLinkClass:"active-class",activeListItemClass:"active-class",headingsOffset:40,scrollSmoothOffset:-40,hasInnerContainers:!0})}ce();window.Stack=$;window.createElement=Z;
